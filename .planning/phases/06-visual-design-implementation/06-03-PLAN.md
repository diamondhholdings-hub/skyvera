---
phase: 06-visual-design-implementation
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/app/accounts/page.tsx
  - src/app/accounts/components/account-stats.tsx
  - src/app/accounts/components/account-table.tsx
  - src/app/accounts/components/account-filters.tsx
autonomous: true

must_haves:
  truths:
    - "Account directory shows customer cards in a grid layout with hover effects (translateY + shadow)"
    - "Each customer card displays name, revenue metrics, health badge, and BU label"
    - "Search input is centered with editorial styling matching reference search-bar"
    - "Page has gradient header with stat cards matching reference index.html"
  artifacts:
    - path: "src/app/accounts/page.tsx"
      provides: "Account directory with gradient header and card grid layout"
      contains: "gradient|customer-grid|card"
    - path: "src/app/accounts/components/account-table.tsx"
      provides: "Card grid view of customers with hover effects (replaces or supplements table)"
      min_lines: 50
  key_links:
    - from: "src/app/accounts/page.tsx"
      to: "src/app/accounts/components/account-table.tsx"
      via: "Renders customer data as card grid"
      pattern: "AccountTable|customer"
---

<objective>
Transform the Account Directory from a utilitarian table view to the editorial card grid layout matching the index.html reference design, with gradient header, stat cards, search bar, and customer cards with hover effects.

Purpose: The account directory is the primary customer browsing interface. The card grid layout from the reference design is more visually engaging and better suited for executive presentations.
Output: Account directory page with gradient header, stat summaries, and customer card grid.
</objective>

<execution_context>
@/Users/RAZER/.claude/get-shit-done/workflows/execute-plan.md
@/Users/RAZER/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-visual-design-implementation/06-CONTEXT.md

Reference design (from output/index.html):
- Header: `background: linear-gradient(135deg, var(--secondary) 0%, #1a2332 100%); padding: 4rem 2rem 3rem`
- Header h1: `font-size: 3.5rem; font-weight: 300; font-family: Cormorant Garamond`
- Header stats: grid of stat-cards (Total Customers, Total Revenue, Top 80% Revenue, Coverage)
- Stat cards: `background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 4px`
- Search bar: centered, `padding: 1rem 1.5rem; font-size: 1.1rem; border: 2px solid var(--border); border-radius: 8px; max-width: 600px`
- Customer grid: `grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem`
- Customer card: white bg, `border: 2px solid var(--border); padding: 2rem; border-radius: 8px; cursor: pointer`
- Card hover: `border-color: var(--accent); box-shadow: 0 8px 24px rgba(0,0,0,0.1); transform: translateY(-4px)`
- Card has: rank badge (accent bg), customer name (secondary color), 3-column metrics grid, health badge

Current files:
@src/app/accounts/page.tsx
@src/app/accounts/components/account-stats.tsx
@src/app/accounts/components/account-table.tsx
@src/app/accounts/components/account-filters.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Account directory page with gradient header and stat cards</name>
  <files>
    src/app/accounts/page.tsx
    src/app/accounts/components/account-stats.tsx
  </files>
  <action>
  1. **accounts/page.tsx** - Add gradient header matching reference:
     - Replace flat `p-6` layout with:
       a. Gradient header section: `bg-gradient-to-br from-secondary to-[#1a2332]` with `text-paper` padding `pt-16 pb-12 px-8 text-center`
       b. Title: `font-display text-4xl font-light text-paper` ("Skyvera Customer Account Plans")
       c. Subtitle below: `text-paper/80 text-lg mt-3` ("CloudSense Business Unit | Q1 2026 Strategic Analysis")
       d. AccountStats rendered INSIDE the gradient header (as light-on-dark stat cards)
       e. RefreshButton positioned top-right of header, styled for dark background
     - Below header, content container: `max-w-[1400px] mx-auto py-8 px-8`
     - Move AccountTable below header in the content container
     - Keep all data fetching and error handling unchanged

  2. **account-stats.tsx** - Restyle as header stat cards:
     - Change from current styling to match reference `.stat-card`:
     - Grid layout: `grid grid-cols-2 md:grid-cols-4 gap-6 max-w-[1200px] mx-auto mt-8`
     - Each stat card: `bg-white/10 p-6 rounded text-center`
     - Stat label: `text-xs uppercase tracking-wider text-paper/70 mb-2`
     - Stat value: `text-2xl font-display font-bold text-paper`
     - Display 4 stats: Total Customers, Total Revenue, Healthy Accounts, At-Risk Accounts (adapt from existing stats prop)
  </action>
  <verify>
  - Run `npm run build` -- no errors
  - Accounts page shows gradient header with stat cards in white-on-dark
  - Title renders in Cormorant Garamond, large and light weight
  - Stats grid responsive: 4 columns on desktop, 2 on mobile
  </verify>
  <done>
  - Account directory has gradient header matching reference index.html
  - Stat cards render inside header with translucent white backgrounds
  - Content area below header has 1400px max-width container
  </done>
</task>

<task type="auto">
  <name>Task 2: Customer card grid with hover effects</name>
  <files>
    src/app/accounts/components/account-table.tsx
    src/app/accounts/components/account-filters.tsx
  </files>
  <action>
  Transform the TanStack Table from a tabular layout to a card grid layout. Keep all TanStack Table sorting/filtering/search logic but render rows as cards instead of table rows.

  1. **account-table.tsx** - Card grid rendering:
     - Keep all TanStack Table hooks, state, column definitions, sorting, and filtering logic
     - Replace the `<table>` rendering with a card grid:
       a. Search bar: centered, `w-full max-w-[600px] mx-auto my-6 px-6 py-3 text-lg border-2 border-[var(--border)] rounded-lg focus:border-accent focus:ring-1 focus:ring-accent outline-none`
       b. Grid container: `grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-6`
       c. Each customer card:
          - Wrapper: `bg-white border-2 border-[var(--border)] p-6 rounded-lg cursor-pointer transition-all duration-300 hover:border-accent hover:shadow-lg hover:-translate-y-1 relative`
          - Wrap card in Link to `/accounts/${encodeURIComponent(customer_name)}`
          - Rank badge: if customer has rank/index, show `absolute top-4 right-4 bg-accent text-white px-3 py-1 rounded font-bold text-lg`
          - Customer name: `font-display text-xl font-semibold text-secondary mb-4 pr-16` (pr for rank badge space)
          - Metrics grid: `grid grid-cols-3 gap-4 mb-4`
            - Each metric: centered, label in `text-xs uppercase text-muted mb-1`, value in `text-sm font-semibold text-ink`
            - Show: Total Revenue, RR, Health Score
          - Bottom row: BU badge (left) + health indicator (right), flex justify-between
     - Keep all TanStack filtering: the grid simply iterates over `table.getRowModel().rows` and renders cards instead of `<tr>`
     - Keep sorting controls: add a small sort dropdown above grid ("Sort by: Revenue | Name | Health") using existing TanStack sorting state

  2. **account-filters.tsx** - Merge search into grid or simplify:
     - If AccountFilters currently renders a separate search input, consolidate the search into the main card view above
     - Keep BU filter dropdown if it exists: style with editorial border/focus colors
     - Filter pill styling: `bg-highlight text-ink border border-[var(--border)] rounded px-3 py-1 text-sm`
  </action>
  <verify>
  - Run `npm run build` -- no errors
  - Account directory shows customer cards in a responsive grid (3 cols on xl, 2 on md, 1 on sm)
  - Hovering a card: border turns accent, shadow deepens, card lifts slightly
  - Clicking a card navigates to the account plan page
  - Search filters cards in real-time (300ms debounce still works)
  - Sort dropdown changes card ordering
  </verify>
  <done>
  - Customer directory renders as card grid instead of table
  - Cards match reference: white bg, editorial border, hover effect with translateY
  - Each card shows customer name (serif), revenue metrics, BU badge, health indicator
  - Search bar centered with editorial styling
  - All TanStack Table sorting/filtering/search logic preserved
  - Navigation to account plan pages works from card clicks
  </done>
</task>

</tasks>

<verification>
- `npm run build` passes
- Account directory loads with gradient header and card grid
- Cards are interactive (hover, click-through to account plans)
- Search and filter functionality unchanged
- All 140 customers render correctly in card grid
</verification>

<success_criteria>
1. Gradient header: Matches reference with stat cards, serif title, dark-to-darker gradient
2. Card grid: 3-column responsive grid with editorial hover effects
3. Search: Centered, editorial-styled search input above grid
4. Cards: Customer name in Cormorant Garamond, metrics grid, rank badge, health indicator
5. Functionality: All search/filter/sort/navigation preserved from TanStack Table
</success_criteria>

<output>
After completion, create `.planning/phases/06-visual-design-implementation/06-03-SUMMARY.md`
</output>
